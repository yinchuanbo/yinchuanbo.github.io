<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"
      name="viewport"
    />
    <title>前端命令行部署，再也不用把 dist 包给后端部署服务</title>
    <link rel="shortcut icon" href="../code.svg" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/prism2.css" />
    <link rel="stylesheet" href="../css/edit2.css" />
  </head>
  <body>
    <main>
      <header>
        <h1>前端命令行部署，再也不用把 dist 包给后端部署服务</h1>
        <p class="time">HaoTian · 2024-11-02 20:36:17</p>
      </header>
      <p>很多公司的前端部署流程都是先打一个 dist 包。然后给后端同事帮忙部署。</p>
<p>我们整个网站的读取，其实就是我们上传一个静态的文件包到服务器，然后服务器上的后台服务读取我们的静态包，来进行页面的展示。所以，前端自动化部署的关键，就是，能把 dist 包传到服务器的指定目录下就 OK 了。</p>
<h2>部署流程</h2>
<p>推荐一个 deploy cli 工具(<a href="https://www.npmjs.com/package/deploy-cli-service">deploy-cli-service</a>)</p>
<h3>安装</h3>
<ol>
<li>执行 <code>npm install deploy-cli-service -g</code> 进行全局安装 。</li>
<li>执行 <code>deploy-cli-service -v</code> 查看版本</li>
</ol>
<h3>初始化配置文件</h3>
<p>在项目根目录执行 <code>deploy-cli-service init</code> 进行初始化</p>
<p><code>deploy-cli-service init</code> 命令执行后项目目录下会出现一个名为 <code>deploy.config.js</code> 的文件</p>
<img src="../imgs/98/02.awebp" />

<h3>修改配置文件</h3>
<img src="../imgs/98/03.awebp" />

<p>然后看看相关的属性有没有什么需要修改的就 ok。</p>
<h3>配置部署命令</h3>
<img src="../imgs/98/04.awebp" />

<p>然后在命令行执行 <code>npm run deploy:test</code></p>
<p>成功部署后会如下显示</p>
<img src="../imgs/98/05.awebp" />

<img src="../imgs/98/06.awebp" />

<p>配置 <code>deploy.config.js</code> 时尽量使用 ssh 密钥登录，不要使用服务器密码，把服务器密码写在前端代码里是一件非常不好的操作。</p>

    </main>
    <aside id="nav">
      <ul>
        <li class=""><a title="Jenkins and Docker 实现一键自动化部署项目" href="/md/Jenkins and Docker 实现一键自动化部署项目.html">07 Jenkins and Docker 实现一键自动化部署项目</a></li><li class="active"><a title="前端命令行部署，再也不用把 dist 包给后端部署服务" href="/md/前端命令行部署，再也不用把 dist 包给后端部署服务.html">06 前端命令行部署，再也不用把 dist 包给后端部署服务</a></li><li class=""><a title="前端部署真的不简单" href="/md/前端部署真的不简单.html">05 前端部署真的不简单</a></li><li class=""><a title="使用 node-ssh 实现自动化部署" href="/md/使用 node-ssh 实现自动化部署.html">04 使用 node-ssh 实现自动化部署</a></li><li class=""><a title="五分钟使用 docker 安装部署 gitlab" href="/md/五分钟使用 docker 安装部署 gitlab.html">03 五分钟使用 docker 安装部署 gitlab</a></li><li class=""><a title="Vercel + Supabase 快速构建原型的终极工具组合" href="/md/Vercel + Supabase 快速构建原型的终极工具组合.html">02 Vercel + Supabase 快速构建原型的终极工具组合</a></li><li class=""><a title="前端项目如何部署上线" href="/md/前端项目如何部署上线.html">01 前端项目如何部署上线</a></li>
      </ul>
      <div class="switch">
        <svg
          t="1730889498743"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="7580"
          width="25"
          height="25"
        >
          <path
            d="M755.114667 332.074667L694.144 392.96l181.034667 181.034667 60.928-60.970667z"
            fill="#ffffff"
            p-id="7581"
          ></path>
          <path
            d="M755.2 694.229333l-60.928-60.928 181.034667-181.034666 60.928 60.970666z"
            fill="#ffffff"
            p-id="7582"
          ></path>
          <path
            d="M554.666667 469.333333h298.666666v85.333334h-298.666666zM268.885333 332.202667l60.970667 60.928-181.034667 181.034666-60.928-60.970666z"
            fill="#ffffff"
            p-id="7583"
          ></path>
          <path
            d="M268.757333 694.357333l60.928-60.970666-180.992-180.992-60.970666 60.928z"
            fill="#ffffff"
            p-id="7584"
          ></path>
          <path
            d="M469.333333 469.461333H170.666667v85.333334h298.666666z"
            fill="#ffffff"
            p-id="7585"
          ></path>
        </svg>
      </div>
    </aside>
    <script defer src="../js/prism.min.js"></script>
    <script defer src="../js/edit2.js"></script>
  </body>
</html>
