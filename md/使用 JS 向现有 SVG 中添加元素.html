<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>如何使用 JavaScript 向现有 SVG 中添加元素？</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/prism.css" />
    <link rel="stylesheet" href="../css/edit.css" />
  </head>
  <body>
    <div class="layout">
      <div class="layout__main">
        <div class="layout__main_left">
          <ul>
            <li class=""><a title="5 种 JS 模式" href="/md/5 种 JS 模式.html">01 5 种 JS 模式</a></li><li class=""><a title="7 种位运算符的神奇用法" href="/md/7 种位运算符的神奇用法.html">02 7 种位运算符的神奇用法</a></li><li class=""><a title="JS 单行代码集" href="/md/JS 单行代码集.html">03 JS 单行代码集</a></li><li class="active"><a title="使用 JS 向现有 SVG 中添加元素" href="/md/使用 JS 向现有 SVG 中添加元素.html">04 使用 JS 向现有 SVG 中添加元素</a></li><li class=""><a title="实现鼠标滚轮缩放 SVG 内容" href="/md/实现鼠标滚轮缩放 SVG 内容.html">05 实现鼠标滚轮缩放 SVG 内容</a></li><li class=""><a title="速通 JS 性能优化" href="/md/速通 JS 性能优化.html">06 速通 JS 性能优化</a></li><li class=""><a title="高效检查 JS 对象中的键是否存在" href="/md/高效检查 JS 对象中的键是否存在.html">07 高效检查 JS 对象中的键是否存在</a></li>
          </ul>
        </div>
        <div class="layout__main_right md">
          <h1>如何使用 JavaScript 向现有 SVG 中添加元素？</h1>
          <h3>动态向 SVG 中添加元素的实际应用场景</h3>
<p>假设我们正在开发一个数据可视化的应用程序，其中的图表是用 SVG 绘制的。现在我们需要根据用户的操作动态地在现有的 SVG 图表中添加新的数据点或者线段。在这种情况下，我们就需要通过 JavaScript 来操作 SVG。</p>
<h3>具体操作步骤</h3>
<ol>
<li><p>选择 SVG 元素：首先，我们需要通过 JavaScript 找到页面上已经存在的 SVG 元素。</p>
</li>
<li><p>创建新元素并指定命名空间：SVG 元素与普通的 HTML 元素不同，它们有特定的命名空间。因此，在创建新的 SVG 元素时，我们必须指定这个命名空间。</p>
</li>
<li><p>设置属性：新创建的 SVG 元素需要设置一些属性，比如路径、颜色、线宽等。</p>
</li>
<li><p>将新元素添加到 SVG 中：最后一步就是将新创建的 SVG 元素添加到我们选中的 SVG 元素中，使其显示在页面上。</p>
</li>
</ol>
<h3>代码示例</h3>
<p>假设我们有以下的 HTML 结构：</p>
<pre><code class="language-html">&lt;svg width=&quot;100&quot; height=&quot;100&quot;&gt;&lt;/svg&gt;
</code></pre>
<p>我们希望在这个空的 SVG 中动态添加一条直线。可以使用以下 JavaScript 代码实现：</p>
<pre><code class="language-js">// 选择SVG元素
const svg = document.querySelector(&quot;svg&quot;);

// 创建一个新的line元素，并指定命名空间
const newLine = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;line&quot;);

// 设置line元素的属性，起点为(10,10)，终点为(90,90)
newLine.setAttribute(&quot;x1&quot;, &quot;10&quot;);
newLine.setAttribute(&quot;y1&quot;, &quot;10&quot;);
newLine.setAttribute(&quot;x2&quot;, &quot;90&quot;);
newLine.setAttribute(&quot;y2&quot;, &quot;90&quot;);

// 设置线条的颜色和宽度
newLine.style.stroke = &quot;blue&quot;;
newLine.style.strokeWidth = &quot;2px&quot;;

// 将新创建的line元素添加到SVG中
svg.appendChild(newLine);
</code></pre>
<p>这段代码会在页面上显示一条从 <code>(10,10)</code> 到 <code>(90,90)</code> 的蓝色线条。我们通过 <code>document.querySelector</code> 选择了 SVG 元素，然后使用 <code>document.createElementNS</code> 创建了一个新的 line 元素，并通过设置属性来定义这条线的位置和样式，最后通过 appendChild 将其添加到 SVG 中。</p>

        </div>
      </div>
    </div>
    <script defer src="../js/prism.min.js"></script>
  </body>
</html>
