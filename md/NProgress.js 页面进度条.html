<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NProgress.js，一款神奇的 JavaScript 开源库——页面进度条？</title>
    <link rel="shortcut icon" href="../code.svg" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/prism.css" />
    <link rel="stylesheet" href="../css/edit.css" />
    
  </head>
  <body class="line-numbers">
    <div class="layout">
      <div class="layout__main">
        <div class="layout__main_left" style="order: 1">
          <ul>
            <li class=""><a title="12 个 JS 动画库" href="/md/12 个 JS 动画库.html">01 12 个 JS 动画库</a></li><li class=""><a title="Fuse.js 轻量高效的模糊搜索库" href="/md/Fuse.js 轻量高效的模糊搜索库.html">02 Fuse.js 轻量高效的模糊搜索库</a></li><li class=""><a title="Intro.js 神奇用户引导库" href="/md/Intro.js 神奇用户引导库.html">03 Intro.js 神奇用户引导库</a></li><li class=""><a title="Masonry.js 轻松实现瀑布流" href="/md/Masonry.js 轻松实现瀑布流.html">04 Masonry.js 轻松实现瀑布流</a></li><li class=""><a title="Slidev 新一代幻灯片制作工具" href="/md/Slidev 新一代幻灯片制作工具.html">05 Slidev 新一代幻灯片制作工具</a></li><li class=""><a title="前端数据可视化常用工具大盘点" href="/md/前端数据可视化常用工具大盘点.html">06 前端数据可视化常用工具大盘点</a></li><li class=""><a title="前端图片压缩 js-image-compressor" href="/md/前端图片压缩 js-image-compressor.html">07 前端图片压缩 js-image-compressor</a></li><li class=""><a title="js 运算精度丢失，用这个库试试" href="/md/js 运算精度丢失，用这个库试试.html">08 js 运算精度丢失，用这个库试试</a></li><li class=""><a title="OpenCV 前端图片磨皮处理" href="/md/OpenCV 前端图片磨皮处理.html">09 OpenCV 前端图片磨皮处理</a></li><li class=""><a title="前端 js 动画库" href="/md/前端 js 动画库.html">10 前端 js 动画库</a></li><li class=""><a title="前端实现人类动作捕捉" href="/md/前端实现人类动作捕捉.html">11 前端实现人类动作捕捉</a></li><li class=""><a title="Paper.js 一款神奇的 JavaScript 开源矢量图库" href="/md/Paper.js 一款神奇的 JavaScript 开源矢量图库.html">12 Paper.js 一款神奇的 JavaScript 开源矢量图库</a></li><li class=""><a title="React Email 前端炫酷写邮件" href="/md/React Email 前端炫酷写邮件.html">13 React Email 前端炫酷写邮件</a></li><li class="active"><a title="NProgress.js 页面进度条" href="/md/NProgress.js 页面进度条.html">14 NProgress.js 页面进度条</a></li><li class=""><a title="Reveal.js 一款神奇的 JavaScript 开源演示框架" href="/md/Reveal.js 一款神奇的 JavaScript 开源演示框架.html">15 Reveal.js 一款神奇的 JavaScript 开源演示框架</a></li><li class=""><a title="Chroma.js 神奇的 JavaScript 颜色处理和可视化库" href="/md/Chroma.js 神奇的 JavaScript 颜色处理和可视化库.html">16 Chroma.js 神奇的 JavaScript 颜色处理和可视化库</a></li><li class=""><a title="es-toolkit 最先进的JavaScript工具库" href="/md/es-toolkit 最先进的JavaScript工具库.html">17 es-toolkit 最先进的JavaScript工具库</a></li><li class=""><a title="fullPage.j 创建美丽的全屏滚动网站" href="/md/fullPage.j 创建美丽的全屏滚动网站.html">18 fullPage.j 创建美丽的全屏滚动网站</a></li>
          </ul>
          <div class="left__border"></div>
        </div>
        <div
          class="layout__main_right md "
          style="order: 0"
        >
          <h1>NProgress.js，一款神奇的 JavaScript 开源库——页面进度条？</h1>
          <h3>NProgress 是什么？</h3>
<p><code>NProgress.js</code>  是一个轻量级的  <code>JavaScript</code>  库，用于在应用的页面顶部显示一个进度条，指示页面加载或异步操作的进度。它非常适合用于单页面应用程序（SPA），能够在路由变化时给用户友好的加载提示。本文是  <code>NProgress.js</code>  的基本使用方法和一些配置选项的详细介绍。</p>
<img src="../imgs/57/01.gif" />

<h3>快速开始</h3>
<p><strong>安装和引入</strong></p>
<p><code>NProgress.js</code>  支持管理工具  <code>npm</code>  或  <code>yarn</code>  安装，也支持  CDN 引入。</p>
<pre><code class="language-sh">npm install nprogress -S
#
yarn add nprogress
</code></pre>
<p>引入时，别忘了引入  <code>nprogress.css</code>  样式文件</p>
<p><strong>启动和结束进度条</strong></p>
<pre><code class="language-js">NProgress.start(); // 启动进度条
NProgress.done(); // 结束进度条
</code></pre>
<p><strong>设置进度</strong></p>
<pre><code class="language-js">NProgress.set(0.4); // 设置进度至 40%
</code></pre>
<p>设置进度百分比，参数取值 0 ~ 1 之间。如果传 0 类似于调用  <code>.start()</code>，传 1 类似于调用  <code>.done()</code>  方法。</p>
<p><strong>递增进度条</strong></p>
<pre><code class="language-js">NProgress.inc(); // 随机递增进度条
NProgress.inc(0.2); // 以 0.2 的值递增进度条
</code></pre>
<p>递增进度条，以随机量增加，永远不会到达 100%。</p>
<h3>配置选项</h3>
<pre><code class="language-js">NProgress.configure({
  easing: &quot;ease&quot;, // 动画方式
  speed: 500, // 递增进度条的速度
  showSpinner: false, // 是否显示加载指示器
  trickle: false, // 是否开启自动递增行为
  trickleSpeed: 200, // 自动递增间隔
  minimum: 0.3, // 更改启动时使用的最小百分比
  parent: &quot;body&quot;, // 指定进度条的父容器
  barSelector: &#39;[role=&quot;bar&quot;]&#39;, // 进度条选择器
  spinnerSelector: &#39;[role=&quot;spinner&quot;]&#39;, // 加载指示器选择器
});
</code></pre>
<p>配置项还有  <code>template</code>  自定义模板，为了保证正常工作，需要保留一个带  <code>role=&#39;bar&#39;</code>  的元素。参考默认模板。</p>
<pre><code class="language-js">NProgress.configure({
  template: `
    &lt;div class=&quot;bar&quot; role=&quot;bar&quot;&gt;
      &lt;div class=&quot;peg&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;spinner&quot; role=&quot;spinner&quot;&gt;
      &lt;div class=&quot;spinner-icon&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;`,
});
</code></pre>
<p>另外，通过覆盖  <code>nprogress.css</code>  样式，可以实现定制化样式。</p>
<h3>在 Vue 中使用</h3>
<p>在  <code>Vue</code>  项目中，可以将  <code>NProgress.js</code>  集成到路由系统中，方便页面跳转时显示进度条。在  <code>router/index.js</code>  中引入  <code>NProgress</code>  并在路由卫士中调用相应的 API。</p>
<pre><code class="language-js">import NProgress from &quot;nprogress&quot;;
import &quot;nprogress/nprogress.css&quot;;
// 导入进度条
import { start, close } from &quot;../utils/nprogress&quot;;
const router = new VueRouter({
  // ...
});
router.beforeEach((to, from, next) =&gt; {
  NProgress.start();
  next();
});
router.afterEach(() =&gt; {
  NProgress.done();
});
</code></pre>
<p><strong>修改进度条样式</strong></p>
<p>通过添加  <code>CSS</code>  样式来自定义进度条的颜色和其他视觉效果。</p>
<pre><code class="language-css">#nprogress .bar {
  background: green !important; /* 自定义颜色 */
}
</code></pre>
<h3>总结</h3>
<p><code>NProgress.js</code>  使用一种简单的方式来改善用户体验，在单页应用中，通过在页面跳转期间显示进度条，可以让用户知道页面正在加载，从而减少用户的等待焦虑感。通过本文相信你已经能够在项目中轻松使用  <code>NProgress.js</code>  了。</p>

        </div>
      </div>
    </div>
    <script defer src="../js/prism.min.js"></script>
    <script>
      const leftBorder = document.querySelector(".left__border");
      const resizer = document.querySelector(".layout__main_left");
      const resizable = document.querySelector(".layout__main_right");
      leftBorder.addEventListener("mousedown", initResize);
      function initResize(e) {
        e.preventDefault();
        document.addEventListener("mousemove", startResizing);
        document.addEventListener("mouseup", stopResizing);
      }
      function startResizing(e) {
        const resizerRect = resizer.getBoundingClientRect();
        const resizableRect = resizable.getBoundingClientRect();
        let newWidth = e.clientX - resizerRect.left;
        if (newWidth < 300) {
          newWidth = 300;
        } else if (newWidth > 850) {
          newWidth = 850;
        }
        resizer.style.width = `${newWidth}px`;
      }
      function stopResizing() {
        document.removeEventListener("mousemove", startResizing);
        document.removeEventListener("mouseup", stopResizing);
      }
      const liActive = document.querySelector(".layout__main_left li.active");
      liActive.scrollIntoView({
        behavior: "smooth",
        block: "center",
        inline: "nearest",
      });
    </script>
  </body>
</html>
