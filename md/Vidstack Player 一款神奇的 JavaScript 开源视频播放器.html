<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8" />
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"
      name="viewport"
    />
    <title>Vidstack Player 一款神奇的 JavaScript 开源视频播放器</title>
    <link rel="shortcut icon" href="../code.svg" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=fallback"
      rel="stylesheet"
    />
    
    <link rel="stylesheet" href="../css/prism.css" />
    
    <link rel="stylesheet" href="../css/edit.css" />
    
    <style>
      /* Animation Styles */
      .fade-in {
        animation: fadeIn 0.5s ease-in;
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      .slide-in {
        animation: slideIn 0.5s ease;
      }

      @keyframes slideIn {
        from { transform: translateY(-20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }

      .button {
        transition: background-color 0.3s, transform 0.3s;
      }

      .button:hover {
        background-color: #3700B3;
        transform: scale(1.05);
      }

      /* Tooltip Styles */
      .tooltip {
        position: relative;
        display: inline-block;
      }

      .tooltip .tooltiptext {
        visibility: hidden;
        width: 120px;
        background-color: black;
        color: #fff;
        text-align: center;
        border-radius: 5px;
        padding: 5px 0;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        margin-left: -60px;
        opacity: 0;
        transition: opacity 0.3s;
      }

      .tooltip:hover .tooltiptext {
        visibility: visible;
        opacity: 1;
      }
    </style>
</head>

<body class="fade-in">
    <button class="toggle-sidebar" id="toggleSidebar" aria-label="Toggle Sidebar">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>
    
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <button class="toggle-sidebar" id="toggleSidebar">
                    <span></span>
                </button>
            </div>
            <div class="sidebar-content">
                <div class="nav-section">
                    <li class=""><a title="前端实现画中画超简单，让网页飞出浏览器" href="/md/前端实现画中画超简单，让网页飞出浏览器.html">09 前端实现画中画超简单，让网页飞出浏览器</a></li><li class=""><a title="前端vue项目使用ffmpeg处理视频" href="/md/前端vue项目使用ffmpeg处理视频.html">08 前端vue项目使用ffmpeg处理视频</a></li><li class=""><a title="howlerjs Web 应用 2D、3D 音频控制库" href="/md/howlerjs Web 应用 2D、3D 音频控制库.html">07 howlerjs Web 应用 2D、3D 音频控制库</a></li><li class=""><a title="如何实现视频旋转缩放" href="/md/如何实现视频旋转缩放.html">06 如何实现视频旋转缩放</a></li><li class=""><a title="录音" href="/md/录音.html">05 录音</a></li><li class="active"><a title="Vidstack Player 一款神奇的 JavaScript 开源视频播放器" href="/md/Vidstack Player 一款神奇的 JavaScript 开源视频播放器.html">04 Vidstack Player 一款神奇的 JavaScript 开源视频播放器</a></li><li class=""><a title="音频剪切播放和下载" href="/md/音频剪切播放和下载.html">03 音频剪切播放和下载</a></li><li class=""><a title="视频播放错误并重试" href="/md/视频播放错误并重试.html">02 视频播放错误并重试</a></li><li class=""><a title="3D环绕音" href="/md/3D环绕音.html">01 3D环绕音</a></li>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <header class="content-header">
                <div class="header-left">
                    <h1 class="page-title">Vidstack Player 一款神奇的 JavaScript 开源视频播放器</h1>
                    <p class="time">HaoTian · 2024-10-03 21:49:11</p>
                </div>
                <div class="header-right">
                    <div class="tag-container">
                        <span class="tag">音视频</span>
                    </div>
                </div>
            </header>

            <!-- Article Content -->
            <article class="content-body md md ">
                <p>对于开发者来说，拥有一个强大、可定制且易于集成的媒体播放器库可以大幅提升开发效率。</p>
<p>今天，我们将探索一个新兴的开源媒体播放器——<code>Vidstack Player</code> , 一个现代化的、可扩展的媒体播放器库，旨在提供高性能和丰富的功能集。</p>
<h2>Vidstack Player 是什么？</h2>
<p><code>Vidstack Player</code>  是由  <code>Vime</code>  和  <code>Plyr</code>  的原班人马打造，不仅继承了前辈们的优秀基因，还在此基础上进行了创新和改进。这个库专为现代  <code>Web</code>  应用设计，支持多种媒体格式，并且可以轻松集成到各种 Web 应用程序中 。</p>
<p><strong>特点</strong></p>
<p><code>Vidstack Player</code>  的核心特点可以概括为以下几点：</p>
<p>1. <strong>框架无关性</strong>：它基于<code>Web Components</code>和<code>React</code>设计，意味着它拥有良好的跨框架兼容性，无论您是使用<code>React</code>、<code>Vue</code>、<code>Angular</code>还是其他任何框架，都可以无缝集成 。</p>
<p>2. <strong>可定制性</strong>：提供了丰富的组件和钩子，使得开发者可以根据自己的需求定制播放器的 UI 和功能 。</p>
<p>3. <strong>全面的播放器 API</strong>：自动播放、音轨、全屏、画中画、实时、键盘、文本轨道和视频质量。</p>
<p>4. <strong>性能优化</strong>：库本身非常轻量，<code>gzip</code>后只有<code>54kB</code>，而且支持<code>Tree shaking</code>，可以进一步减少最终打包体积 。</p>
<p>5. <strong>丰富的功能</strong>：支持多种媒体源，包括<code>Audio、Video、HLS、DASH、YouTube、Vimeo</code>和<code>Remotion</code>等 。</p>
<h2>安装与使用</h2>
<p>安装<code>Vidstack Player</code>非常简单，可以通过<code>npm</code>或<code>yarn</code>进行安装：</p>
<pre><code class="language-sh">npm install @vidstack/player
</code></pre>
<p>或者</p>
<pre><code class="language-sh">yarn add @vidstack/player
</code></pre>
<p>在 HTML 中使用<code>Vidstack Playe</code>r 的基本示例如下：</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;title&gt;Vidstack Player 示例&lt;/title&gt;
    &lt;link
      rel=&quot;stylesheet&quot;
      href=&quot;node_modules/@vidstack/player/dist/styles.css&quot;
    /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;vds-media&gt;
      &lt;vds-video&gt;
        &lt;source src=&quot;path/to/your/video.mp4&quot; type=&quot;video/mp4&quot; /&gt;
      &lt;/vds-video&gt;
    &lt;/vds-media&gt;
    &lt;script
      type=&quot;module&quot;
      src=&quot;node_modules/@vidstack/player/dist/bundle.js&quot;
    &gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<img src="../imgs/84/05.webp" />

<h2>应用案例</h2>
<p><code>Vidstack Player</code>可以广泛应用于多种场景：</p>
<ol>
<li><p><strong>视频直播平台</strong>：支持实时流媒体播放和互动功能，通过集成实时聊天和弹幕系统，可以增强用户的观看体验。</p>
</li>
<li><p><strong>在线教育平台</strong>：用于播放课程视频，支持字幕、笔记和进度跟踪等功能，有助于提高学习效率和用户满意度。</p>
</li>
</ol>
<h2>和同类库比较</h2>
<p>Vidstack Player 相对于其他视频库的五个关键优势：</p>
<p>1. <strong>现代化和高效</strong>：提供最新 API 和优化的捆绑包大小，支持快速加载和现代浏览器。</p>
<p>2. <strong>强大的 TypeScript 支持</strong>：提供一流的 TypeScript 支持，确保类型安全的开发体验。</p>
<p>3. <strong>丰富的组件和反应性</strong>：提供广泛的声明性组件和基于信号的反应性系统，增强功能和外观。</p>
<p>4. <strong>高度可定制</strong>：支持自定义 UI 和生产就绪的 UI，提供超过 150 个 CSS 变量，易于个性化。</p>
<p>5. <strong>免费且无限制的许可</strong>：采用 MIT 许可，免费使用，无需为内容播放次数支付额外费用。</p>
<h2>结论</h2>
<p><code>Vidstack Player</code>  是一个强大、灵活且现代化的媒体播放器库，不仅提供了丰富的功能和高度的可定制性，还考虑到了性能和无障碍性。无论是简单的网站集成还是复杂的交互设计，它都能帮助你构建出色的媒体播放。</p>
<p>如果正在寻找一个能够满足现代  <code>Web</code>  应用需求的播放器解决方案，<code>Vidstack Player</code>  绝对值得一试 。</p>

            </article>
        </main>

        <!-- Table of Contents Sidebar -->
        <aside class="toc-sidebar">
            <div class="toc-header">
                <h3>Table of Contents</h3>
            </div>
            <div class="toc-content" id="tocContent">
                <!-- TOC will be generated dynamically -->
            </div>
        </aside>
    </div>

    <div class="body_bg"></div>
    <div class="zoom-overlay"></div>

    <button id="backToTop" class="back-to-top" aria-label="Back to top">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 19V5M5 12l7-7 7 7"/>
        </svg>
    </button>

    <style>
      .zoom-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: none;
        z-index: 1000;
        cursor: zoom-out;
      }
      .zoomed-image {
        position: fixed;
        z-index: 1001;
        will-change: transform;
        cursor: zoom-out;
        max-width: 90vw;
        max-height: 90vh;
        object-fit: contain;
      }
      .back-button {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 50px;
        height: 50px;
        border-radius: 100%;
        background-color: #07a;
        border: none;
        color: #333;
        text-decoration: none;
        font-size: 14px;
        margin-bottom: 16px;
        cursor: pointer;
        transition: background-color 0.2s;
        position: fixed !important;
        top: 30px;
        right: 30px;
        z-index: 10;
        display: none;
      }
      .back-button svg {
        width: 50%;
        height: 50%;
      }
      .back-button:hover {
        opacity: 0.8;
      }
      .layout {
        position: relative;
        z-index: 1;
      }
      .back-to-top {
        position: fixed;
        bottom: 2rem;
        right: 340px;
        background: linear-gradient(135deg, var(--accent), rgba(59, 130, 246, 0.8));
        color: white;
        border: none;
        width: 3rem;
        height: 3rem;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        z-index: 1000;
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
      }

      .back-to-top svg {
        width: 1.5rem;
        height: 1.5rem;
        stroke: currentColor;
        transition: transform 0.3s ease;
      }

      .back-to-top:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);
        background: linear-gradient(135deg, var(--accent), #2563eb);
      }

      .back-to-top:hover svg {
        transform: translateY(-2px);
      }

      .dark .back-to-top {
        background: linear-gradient(135deg, #4b5563, #1f2937);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }

      .dark .back-to-top:hover {
        background: linear-gradient(135deg, #4b5563, #111827);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
      }
    </style>
    <script defer src="../js/prism.min.js"></script>
    <script>
        // Sidebar Toggle
        const toggleBtn = document.getElementById('toggleSidebar');
        const sidebar = document.querySelector('.sidebar');
        const mainContent = document.querySelector('.main-content');
        
        function toggleSidebar() {
            sidebar.classList.toggle('hidden');
            // Store sidebar state in localStorage
            localStorage.setItem('sidebarHidden', sidebar.classList.contains('hidden'));
        }
        
        toggleBtn.addEventListener('click', toggleSidebar);

        // Keyboard shortcut (Ctrl + B)
        window.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'b') {
                e.preventDefault(); // Prevent browser's default behavior
                toggleSidebar();
            }
        });

        // Restore sidebar state from localStorage
        document.addEventListener('DOMContentLoaded', () => {
            const sidebarHidden = localStorage.getItem('sidebarHidden') === 'true';
            if (sidebarHidden) {
                sidebar.classList.add('hidden');
            }
        });

        // Generate Table of Contents
        function generateTOC() {
            const article = document.querySelector('.content-body');
            const headings = article.querySelectorAll('h1, h2, h3, h4');
            const tocContent = document.getElementById('tocContent');
            const toc = document.createElement('ul');

            headings.forEach((heading, index) => {
                const id = `heading-${index}`;
                heading.id = id;
                
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = `#${id}`;
                a.textContent = heading.textContent;
                a.className = `toc-level-${heading.tagName.toLowerCase()}`;
                
                li.appendChild(a);
                toc.appendChild(li);
            });

            tocContent.appendChild(toc);
        }

        // Initialize TOC
        document.addEventListener('DOMContentLoaded', generateTOC);

        // Image zoom with FLIP animation
        const overlay = document.querySelector(".zoom-overlay");
        let activeImage = null;

        document.querySelectorAll("img").forEach((img) => {
            if (img.closest("a")) return; // Skip images that are inside links
            img.style.cursor = "zoom-in";
            img.addEventListener("click", handleImageClick);
        });

        function handleImageClick(event) {
            const img = event.target;

            if (activeImage) {
                // If an image is already zoomed, unzoom it
                unzoomImage();
                return;
            }

            // Get the initial position and size
            const rect = img.getBoundingClientRect();
            const first = {
                x: rect.left,
                y: rect.top,
                width: rect.width,
                height: rect.height,
            };

            // Create a clone of the image
            const clone = img.cloneNode();
            clone.classList.add("zoomed-image");
            document.body.appendChild(clone);

            // Position the clone exactly over the original
            clone.style.position = "fixed";
            clone.style.left = `${first.x}px`;
            clone.style.top = `${first.y}px`;
            clone.style.width = `${first.width}px`;
            clone.style.height = `${first.height}px`;
            clone.style.margin = "0";
            clone.style.transformOrigin = "top left";

            // Show the overlay
            overlay.style.display = "block";

            // Calculate the final position and scale
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const targetWidth = Math.min(img.naturalWidth, viewportWidth * 0.9);
            const targetHeight = Math.min(img.naturalHeight, viewportHeight * 0.9);
            const scaleX = targetWidth / first.width;
            const scaleY = targetHeight / first.height;
            const scale = Math.min(scaleX, scaleY);

            const last = {
                width: first.width * scale,
                height: first.height * scale,
            };
            last.x = (viewportWidth - last.width) / 2;
            last.y = (viewportHeight - last.height) / 2;

            // Calculate and apply the transform
            const dx = last.x - first.x;
            const dy = last.y - first.y;

            requestAnimationFrame(() => {
                clone.style.transform = `translate(${dx}px, ${dy}px) scale(${scale})`;
                clone.style.transition = "transform 0.3s ease-out";
            });

            activeImage = { original: img, clone: clone };

            // Add click handlers for closing
            clone.addEventListener("click", unzoomImage);
            overlay.addEventListener("click", unzoomImage);
        }

        function unzoomImage() {
            if (!activeImage) return;

            const { original, clone } = activeImage;
            const rect = original.getBoundingClientRect();

            // Animate back to the original position
            clone.style.transform = `translate(0, 0) scale(1)`;

            // Clean up after the animation
            clone.addEventListener(
                "transitionend",
                () => {
                    clone.remove();
                    overlay.style.display = "none";
                },
                { once: true }
            );

            activeImage = null;
        }

        // 监听 ctrl + b
        window.addEventListener("keydown", (e) => {
            const leftDom = document.querySelector(".sidebar");
            if (e.ctrlKey && e.key === "b") {
                leftDom.classList.toggle("hidden");
            }
        });

        // Modal
        // const modal = document.getElementById("myModal");
        // const modalContent = modal.querySelector(".modal-content");
        // const openModal = document.getElementById("openModal");
        // const close = modal.querySelector(".close");

        // openModal.addEventListener("click", () => {
        //     modal.style.display = "block";
        // });

        // close.addEventListener("click", () => {
        //     modal.style.display = "none";
        // });

        // window.addEventListener("click", (e) => {
        //     if (e.target === modal) {
        //         modal.style.display = "none";
        //     }
        // });

        // Back to top button
        const backToTop = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 200) {
                backToTop.style.display = 'block';
            } else {
                backToTop.style.display = 'none';
            }
        });

        backToTop.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
</body>
</html>
