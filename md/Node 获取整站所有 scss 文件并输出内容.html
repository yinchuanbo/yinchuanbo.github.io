<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"
      name="viewport"
    />
    <title>Node 获取整站所有 scss 文件并输出内容</title>
    <link rel="shortcut icon" href="../code.svg" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=fallback"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/prism.css" />
    <link rel="stylesheet" href="../css/edit.css" />
    
  </head>
  
  <body>
    <div class="layout">
      <div class="layout__main">
        <div class="layout__main_left" style="order: 2">
          <div class="layout__main_left-switch"></div>
          <ul>
            <li class=""><a title="为什么 Bun 可能对 Node 降维打击" href="/md/为什么 Bun 可能对 Node 降维打击.html">10 为什么 Bun 可能对 Node 降维打击</a></li><li class="active"><a title="Node 获取整站所有 scss 文件并输出内容" href="/md/Node 获取整站所有 scss 文件并输出内容.html">09 Node 获取整站所有 scss 文件并输出内容</a></li><li class=""><a title="parallel-wait-run 一个并行运行多个 npm scripts 的小工具" href="/md/parallel-wait-run 一个并行运行多个 npm scripts 的小工具.html">08 parallel-wait-run 一个并行运行多个 npm scripts 的小工具</a></li><li class=""><a title="Deno 2.0 正式发布" href="/md/Deno 2.0 正式发布.html">07 Deno 2.0 正式发布</a></li><li class=""><a title="如果你使用的第三方库有 bug，你会怎么办" href="/md/如果你使用的第三方库有 bug，你会怎么办.html">06 如果你使用的第三方库有 bug，你会怎么办</a></li><li class=""><a title="宝塔部署 NodeJS 项目" href="/md/宝塔部署 NodeJS 项目.html">05 宝塔部署 NodeJS 项目</a></li><li class=""><a title="性能提升 5-10 倍的加强版 Express" href="/md/性能提升 5-10 倍的加强版 Express.html">04 性能提升 5-10 倍的加强版 Express</a></li><li class=""><a title="node环境变量及在项目中的使用" href="/md/node环境变量及在项目中的使用.html">03 node环境变量及在项目中的使用</a></li><li class=""><a title="统一 Node 版本" href="/md/统一 Node 版本.html">02 统一 Node 版本</a></li><li class=""><a title="NodeJS 全栈之视频通话" href="/md/NodeJS 全栈之视频通话.html">01 NodeJS 全栈之视频通话</a></li>
          </ul>
        </div>
        <div
          style="order: 1"
          class="layout__main_right md "
        >
          <div class="page-header">
            <h1>Node 获取整站所有 scss 文件并输出内容</h1>
            <p class="time">HaoTian · 2024-11-15 20:13:01</p>
          </div>
          <pre><code class="language-js">const fs = require(&quot;fs&quot;);
const path = require(&quot;path&quot;);
const glob = require(&quot;glob&quot;); // 使用同步方法，不需要解构

// 使用同步 glob 查找所有 SCSS 文件
const files = glob.sync(&quot;**/*.scss&quot;);
files.forEach((filePath) =&gt; {
  const absolutePath = path.resolve(filePath);
  console.log(&quot;Processing file:&quot;, absolutePath);

  // 读取每个 SCSS 文件内容
  fs.readFile(absolutePath, &quot;utf8&quot;, (err, data) =&gt; {
    if (err) {
      console.error(&quot;Error reading file:&quot;, err);
      return;
    }

    // 获取反转后的 SCSS 内容
    const reversedScss = transformScssToArabicStyle(data);

    // 组合原始 SCSS 和阿拉伯样式 SCSS
    const finalScss = `${data}\n\n[lang=&#39;ar&#39;] {\n${reversedScss}\n}`;

    // 将新的 SCSS 内容写入文件
    fs.writeFile(absolutePath, finalScss, &quot;utf8&quot;, (err) =&gt; {
      if (err) {
        console.error(&quot;Error writing to file:&quot;, err);
      } else {
        console.log(&quot;Successfully updated:&quot;, absolutePath);
      }
    });
  });
});

// 处理 SCSS 转换（反转样式规则）
function transformScssToArabicStyle(scssContent) {
  // 这里简单反转 SCSS 的规则，实际上可以做更精细的操作
  const reversedScss = scssContent.split(&quot;\n&quot;).reverse().join(&quot;\n&quot;);
  return reversedScss;
}
</code></pre>

        </div>
      </div>
    </div>
    <div class="body_bg"></div>
    <script defer src="../js/prism.min.js"></script>
    <script>
      const switchBtn = document.querySelector(".layout__main_left-switch");
      const left = document.querySelector(".layout__main_left");
      switchBtn.addEventListener("click", () => {
        left.classList.toggle("show");
      });
    </script>
  </body>
</html>
