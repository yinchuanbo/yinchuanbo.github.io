<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"
      name="viewport"
    />
    <title>前端版本管理工具 volta 详解</title>
    <link rel="shortcut icon" href="../code.svg" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/prism.css" />
    <link rel="stylesheet" href="../css/edit.css" />
    
  </head>
  
  <body>
    <div class="layout">
      <div class="layout__main">
        <div class="layout__main_left" style="order: 2">
          <div class="layout__main_left-switch"></div>
          <ul>
            <li class="active"><a title="前端版本管理工具 volta 详解" href="/md/前端版本管理工具 volta 详解.html">01 前端版本管理工具 volta 详解</a></li>
          </ul>
        </div>
        <div
          style="order: 1"
          class="layout__main_right md "
        >
          <div class="page-header">
            <h1>前端版本管理工具 volta 详解</h1>
            <p class="time">HaoTian · 2025-01-02 10:40:42</p>
          </div>
          <h1>JavaScirpt 管理工具 volta</h1>
<p>只要在 package.json 配置以下代码即可轻松<code>切换node版本</code>而无需<code>手动切换</code></p>
<pre><code class="language-json">&quot;volta&quot;: {
  &quot;node&quot;: &quot;18.xx.x&quot;
}
</code></pre>
<h2>特点</h2>
<ul>
<li>速度快：快速无缝地安装和运行任何 JS 工具，按项目版本切换</li>
<li>跨平台：包括<code>Windows</code>和 <code>macOS linux</code></li>
<li>多管理器：<code>（npm、yarm、pnpm、cnpm）</code></li>
</ul>
<h2>volta 安装</h2>
<ul>
<li>在包括 macOS 在内的大多数 linux 系统上，只需一个命令即可安装 Volta：</li>
</ul>
<pre><code class="language-sh">curl https://get.volta.sh | bash
</code></pre>
<p>对于 bash、zsh 和 fish，此安装程序将自动更新控制台启动脚本。如果希望防止修改控制台启动脚本，请参阅跳过 Volta 安装程序。要手动将 shell 配置为使用 Volta，请编辑控制台启动脚本以：</p>
<ul>
<li>将 <code>VOLTA_HOME</code>变量设置为<code>$HOME/.VOLTA</code></li>
<li>将<code>$VOLTA_HOME/bin</code>添加到<code>PATH</code>变量的开头</li>
</ul>
<h2>Windows 安装</h2>
<ul>
<li><p>对于 Windows，<a href="https://github.com/volta-cli/volta/releases/download/v1.1.1/volta-1.1.1-windows-x86_64.msi">点击下载 volta</a>， 然后按照说明进行操作。</p>
</li>
<li><p>启用 <strong>开发人员模式</strong>（推荐）</p>
</li>
</ul>
<img src="../imgs/133/08.awebp" />

<p>下载过后打开安装包，一直点<code>next</code>即可完成安装</p>
<img src="../imgs/133/09.awebp" />

<p>我们打开<code>cmd</code>或者<code>powershell</code>执行</p>
<pre><code class="language-sh"># 默认安装最新的LTS稳定版可通过 @xxx 的方式安装对应版本
volta install node
</code></pre>
<p>下载完成后放到<code>C:\Users\pc\AppData\Local\Volta\tools\inventory\node</code>目录中（<code>通过 uninstall 删除不了已下载的 node 版本及包管理工具，如果需要删除请直接删除上述路径下要删除的东西，或者整个包删除，重新下载</code>）</p>
<img src="../imgs/133/10.awebp" />

<p>安装完成后每个 node 版本中都有对应的 npm，你也可以安装 yarn 和 pnpm</p>
<pre><code class="language-sh"># yarn 版本推荐 1.22.22 最新版本 yarn 使用过程中有问题（具体还在探索中）
volta install yarn@x.xx.xx
</code></pre>
<pre><code class="language-sh"># 安装 pnpm 推荐 node 版本 18 及以上  低版本会报版本不兼容
volta install pnpm
</code></pre>
<p>管理项目的 node 版本(在项目根目录中安装依赖前先在终端执行再安装项目依赖)</p>
<pre><code class="language-sh">volta pin node@xx.xx.xx
# 程序包管理器 cnpm yarn pnpm 等
volta pin npm@xx.xx.xx
</code></pre>
<p>Volta 会把这个放在你的 package.json，这样你就可以把你选择的工具提交到版本控制:</p>
<img src="../imgs/133/11.awebp" />

<p>查看当前已安装 node 版本及包管理工具</p>
<pre><code class="language-sh">volta list
</code></pre>
<img src="../imgs/133/12.awebp" />

<p>其他相关指令</p>
<ul>
<li><p>volta fetch 将工具缓存到本地机器以供离线使用</p>
</li>
<li><p>volta install 设置工具的默认版本</p>
</li>
<li><p>volta uninstall 从工具链中卸载工具</p>
</li>
<li><p>volta pin 固定项目的运行时或包管理器</p>
</li>
<li><p>volta list 显示当前工具链</p>
</li>
<li><p>volta list all 显示所有工具链</p>
</li>
<li><p>volta completions 命令补全</p>
</li>
<li><p>volta which 查看 volta 安装的工具的目录</p>
</li>
<li><p>volta setup 为当前用户/shell 启用 volta</p>
</li>
<li><p>volta run 运行带有自定义 Node、npm、pnpm 和/或 Yarn 版本的命令</p>
</li>
<li><p>volta help 输出帮助信息</p>
</li>
</ul>

        </div>
      </div>
    </div>
    <div class="body_bg"></div>
    <script defer src="../js/prism.min.js"></script>
    <script>
      const switchBtn = document.querySelector(".layout__main_left-switch");
      const left = document.querySelector(".layout__main_left");
      switchBtn.addEventListener("click", () => {
        left.classList.toggle("show");
      });
    </script>
  </body>
</html>
