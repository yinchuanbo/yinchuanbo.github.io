<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"
      name="viewport"
    />
    <title>模板语法和内置命令</title>
    <link rel="shortcut icon" href="../code.svg" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=fallback"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/prism.css" />
    <link rel="stylesheet" href="../css/edit.css" />
    
  </head>
  
  <body>
    <div class="layout">
      <div class="layout__main">
        <div class="layout__main_left" style="order: 2">
          <div class="layout__main_left-switch"></div>
          <ul>
            <li class=""><a title="前端工程化" href="/md/前端工程化.html">09 前端工程化</a></li><li class=""><a title="组件化开发" href="/md/组件化开发.html">08 组件化开发</a></li><li class=""><a title="v-model和表单输入" href="/md/v-model和表单输入.html">07 v-model和表单输入</a></li><li class=""><a title="vue3 的 Options API" href="/md/vue3 的 Options API.html">06 vue3 的 Options API</a></li><li class="active"><a title="模板语法和内置命令" href="/md/模板语法和内置命令.html">05 模板语法和内置命令</a></li><li class=""><a title="前端 vue 项目使用 ffmpeg 处理视频" href="/md/前端 vue 项目使用 ffmpeg 处理视频.html">04 前端 vue 项目使用 ffmpeg 处理视频</a></li><li class=""><a title="Vue Router 4 的 scrollBehavior 方法" href="/md/Vue Router 4 的 scrollBehavior 方法.html">03 Vue Router 4 的 scrollBehavior 方法</a></li><li class=""><a title="浅浅聊一下 vue 中的 nextTick 的实现原理" href="/md/浅浅聊一下 vue 中的 nextTick 的实现原理.html">02 浅浅聊一下 vue 中的 nextTick 的实现原理</a></li><li class=""><a title="Vue3.x 生态最能打的组合" href="/md/Vue3.x 生态最能打的组合.html">01 Vue3.x 生态最能打的组合</a></li>
          </ul>
        </div>
        <div
          style="order: 1"
          class="layout__main_right md "
        >
          <div class="page-header">
            <h1>模板语法和内置命令</h1>
            <p class="time">HaoTian · 2025-01-10 21:42:52</p>
          </div>
          <h2>插值语法</h2>
<pre><code class="language-html">&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
  &lt;template id=&quot;my-app&quot;&gt;
    &lt;h4&gt;{{ message }} - {{ isShow }}&lt;/h4&gt;
    &lt;h4&gt;{{ counter * 10 }}&lt;/h4&gt;
    &lt;h4&gt;{{ message.split(&quot; &quot;).join(&quot;-&quot;) }}&lt;/h4&gt;
    &lt;h4&gt;{{ getReverseMessage() }}&lt;/h4&gt;
    &lt;h4&gt;{{ isShow ? &quot;三元运算符&quot; : &quot;&quot; }}&lt;/h4&gt;
    &lt;button @click=&quot;toggle&quot;&gt;切换控制显示&lt;/button&gt;
  &lt;/template&gt;

  &lt;script&gt;
    const App = {
      template: &quot;#my-app&quot;,
      data() {
        return {
          message: &quot;Hello World&quot;,
          counter: 100,
          isShow: true,
        };
      },
      methods: {
        getReverseMessage() {
          return this.message.split(&quot; &quot;).reverse().join(&quot; &quot;);
        },
        toggle() {
          this.isShow = !this.isShow;
        },
      },
    };
  &lt;/script&gt;
&lt;/body&gt;
</code></pre>
<p>可以看到，在插值语法中不仅支持绑定 data 中的属性，还支持 JavaScript 表达式、调用方法，以及三元运算符。</p>
<h2>基本指令</h2>
<p>以 <code>v-</code> 开头的属性，它们被称为指令。</p>
<h3>v-once</h3>
<ul>
<li><p>指定元素或组件只渲染一次；</p>
</li>
<li><p>当数据发生变化时，元素或组件及其所有的子组件将被视为静态内容，跳过更新；</p>
</li>
<li><p><strong>通过在需要进行性能优化时使用 v-once 指令</strong></p>
</li>
</ul>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;!-- 以下内容只会渲染一次 --&gt;
  &lt;h3 v-once&gt;h3: {{ counter }}&lt;/h3&gt;
  &lt;div v-once&gt;
    &lt;h4&gt;h4: {{ counter }}&lt;/h4&gt;
    &lt;h5&gt;h5: {{ message }}&lt;/h5&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h3>v-text</h3>
<p><code>v-text</code> 指令用于更新元素的 textContent，</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;h2 v-text=&quot;message&quot;&gt;&lt;/h2&gt;
  &lt;!-- 上面写法等价于下面写法 --&gt;
  &lt;h3&gt;{{ message }}&lt;/h3&gt;
&lt;/template&gt;
</code></pre>
<h3>v-html</h3>
<p>当展示的内容是 HTML 字符串时，Vue.js3 不会对其进行特殊的解析。</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;h2 v-html=&quot;message&quot;&gt;&lt;/h2&gt;
&lt;/template&gt;
&lt;script&gt;
  // ...
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        message:
          &#39;&lt;span style=&quot;color: red; background: blue&quot;&gt;你好呀 Vue.js 3&lt;/span&gt;&#39;,
      };
    },
  };
  // ...
&lt;/script&gt;
</code></pre>
<h3>v-pre</h3>
<p>用于跳过元素及其子元素的编译过程，从而加快编译速度，</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;h2 v-pre&gt;{{ message }}&lt;/h2&gt;
&lt;/template&gt;

&lt;!-- 结果：{{ message }} --&gt;
</code></pre>
<h3>v-cloak</h3>
<p>可以隐藏未编译的 mustache 语法的标签，直到组件实例完成编译，</p>
<p>它需要和 CSS 规则一起使用，例如 <code>[v-cloak] { display: none }</code></p>
<pre><code class="language-html">&lt;style&gt;
  [v-cloak] {
    display: none;
  }
&lt;/style&gt;

&lt;template id=&quot;my-app&quot;&gt;
  &lt;h2 v-cloak&gt;{{ message }}&lt;/h2&gt;
&lt;/template&gt;

&lt;script&gt;
  // ...
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        message: &quot;Hello Vue.js&quot;,
      };
    },
  };
  // ...
&lt;/script&gt;
</code></pre>
<h2>v-bind</h2>
<p>还要绑定各种各样的属性，此时，可以使用 v-bind 指令。</p>
<h3>绑定基本属性</h3>
<p>在很多时候，元素的属性是动态的，比如 <code>&lt;a&gt;</code> 元素的 href 属性、<code>&lt;img&gt;</code> 元素的 src 属性等，通常需要动态插入值，这时可以使用 <code>v-bind</code> 指令来绑定这些属性。</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;!-- v-bind 的基本使用 --&gt;
  &lt;img v-bind:src=&quot;imgUrl&quot; alt=&quot;&quot; /&gt;
  &lt;a v-bind:href=&quot;link&quot;&gt;百度一下&lt;/a&gt;

  &lt;!-- 语法糖 --&gt;
  &lt;img :src=&quot;imgUrl&quot; alt=&quot;&quot; /&gt;
  &lt;!-- 直接赋值 --&gt;
  &lt;img src=&quot;imgUrl&quot; alt=&quot;&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
  // ...
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        imgUrl: &quot;xxxx&quot;,
        link: &quot;xxxx&quot;,
      };
    },
  };
  // ...
&lt;/script&gt;
</code></pre>
<h3>绑定 class 属性</h3>
<p><code>v-bind</code> 可以用于绑定元素或组件的 class 属性，支持绑定的类型有字符串、对象和数组类型。</p>
<ol>
<li>绑定字符串类型</li>
</ol>
<p>直接为 class 属性绑定一个字符串，</p>
<pre><code class="language-html">&lt;div :class=&quot;&#39;abc&#39;&quot;&gt;xxx&lt;/div&gt;
&lt;div :class=&quot;className&quot;&gt;xxx&lt;/div&gt;
</code></pre>
<p>可以看到，我们既可以直接为 class 绑定一个字符串 &#39;abc&#39;，也可以为 class 绑定一个字符串类型的 className 变量。</p>
<ol start="2">
<li>绑定对象类型</li>
</ol>
<p>使用 v-bind 指令为 class 属性绑定对象</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;!-- 绑定字符串语法 --&gt;
  &lt;div :class=&quot;&#39;abc&#39;&quot;&gt;xxx&lt;/div&gt;
  &lt;div :class=&quot;className&quot;&gt;xxx&lt;/div&gt;

  &lt;!-- 绑定对象，支持 { &#39;active&#39;: boolean } 或 { active: boolean } --&gt;
  &lt;div :class=&quot;{ &#39;active&#39;: isActive }&quot;&gt;xxx&lt;/div&gt;
  &lt;!-- 对象可以有多个键值对 --&gt;
  &lt;div :class=&quot;{ active: isActive, title: true }&quot;&gt;xxx&lt;/div&gt;
  &lt;!-- 默认的 class 和动态的 class 结合使用 --&gt;
  &lt;div class=&quot;abc cba&quot; :class=&quot;{ active: isActive, title: true }&quot;&gt;xxx&lt;/div&gt;

  &lt;!-- 将对象放在一个单独的 class 属性中 --&gt;
  &lt;div class=&quot;abc cba&quot; :class=&quot;classObj&quot;&gt;xxx&lt;/div&gt;

  &lt;!-- 将返回的对象放到一个 methods 或 computed 中 --&gt;
  &lt;div class=&quot;abc cba&quot; :class=&quot;getClassObj()&quot;&gt;xxx&lt;/div&gt;

  &lt;button @click=&quot;toggle&quot;&gt;切换 isActive&lt;/button&gt;
&lt;/template&gt;

&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        className: &quot;coderwhy&quot;,
        isActive: true,
        classObj: {
          active: true,
          title: true,
        },
      };
    },
    methods: {
      toggle() {
        this.isActive = !this.isActive;
      },
      getClassObj() {
        return {
          active: false,
          title: true,
        };
      },
    },
  };
&lt;/script&gt;
</code></pre>
<ol start="3">
<li>绑定数组类型</li>
</ol>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;div :class=&quot;[&#39;abc&#39;, title]&quot;&gt;xxx&lt;/div&gt;
  &lt;div :class=&quot;[&#39;abc&#39;, title, isActive ? &#39;active&#39; : &#39;&#39;]&quot;&gt;xxx&lt;/div&gt;
  &lt;div :class=&quot;[&#39;abc&#39;, title, { active: isActive }]&quot;&gt;xxx&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        title: &quot;cba&quot;,
        isActive: true,
      };
    },
  };
&lt;/script&gt;
</code></pre>
<h3>绑定 style 属性</h3>
<p>可以绑定元素或组件的 style 属性，支持绑定对象或数组类型</p>
<ol>
<li>绑定对象类型</li>
</ol>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;!-- v-bind 绑定 style 的基本用法 --&gt;
  &lt;div :style=&quot;{ color: finalColor, &#39;font-size&#39;: &#39;16px&#39; }&quot;&gt;&lt;/div&gt;
  &lt;div :style=&quot;{ color: finalColor, fontSize: &#39;16px&#39; }&quot;&gt;&lt;/div&gt;
  &lt;div :style=&quot;{ color: finalColor, fontSize: finalFontSize + &#39;px&#39; }&quot;&gt;&lt;/div&gt;

  &lt;!-- 绑定 data 中定义的对象类型变量 --&gt;
  &lt;div :style=&quot;finalStyleObj&quot;&gt;&lt;/div&gt;

  &lt;!-- 绑定调用 methods 方法返回的对象 --&gt;
  &lt;div :style=&quot;getFinalStyleObj()&quot;&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        finalColor: &quot;red&quot;,
        finalFontSize: 16,
        finalStyleObj: {
          &quot;font-size&quot;: &quot;16px&quot;,
          fontWeight: 700,
          backgroundColor: &quot;#ddd&quot;,
        },
      };
    },
    methdos: {
      getFinalStyleObj() {
        return {
          &quot;font-size&quot;: &quot;16px&quot;,
          fontWeight: 700,
          backgroundColor: &quot;#ddd&quot;,
        };
      },
    },
  };
&lt;/script&gt;
</code></pre>
<ol start="2">
<li>绑定数组</li>
</ol>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;div :style=&quot;[ { color: &#39;red&#39;, fontSize: &#39;15px&#39; } ]&quot;&gt;&lt;/div&gt;
  &lt;div :style=&quot;[ styleObj, style2Obj ]&quot;&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        styleObj: {
          color: &quot;red&quot;,
          fontSize: &quot;16px&quot;,
        },
        style2Obj: {
          textDecoration: &quot;underline&quot;,
        },
      };
    },
  };
&lt;/script&gt;
</code></pre>
<h3>动态绑定属性</h3>
<p>属性的名称和值都是通过 Js 表达式动态插入的</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;div :[name]=&quot;value&quot;&gt;&lt;/div&gt;
  &lt;!-- 上面等价于下面的写法 --&gt;
  &lt;div v-bind:[name]=&quot;value&quot;&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        name: &quot;username&quot;,
        value: &quot;kobe&quot;,
      };
    },
  };
  // ...
&lt;/script&gt;
</code></pre>
<h3>绑定一个对象</h3>
<p><code>v-bind</code> 指令不仅可以用于绑定单个属性，还可以用于直接绑定一个对象，从而实现一次批量绑定多个属性。</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;div v-bind=&quot;info&quot;&gt;&lt;/div&gt;
  &lt;!-- 下面是个上面的简写，可读性不好，不推荐 --&gt;
  &lt;div :=&quot;info&quot;&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        info: {
          name: &quot;why&quot;,
          age: 18,
          height: 1.88,
        },
      };
    },
  };
  // ...
&lt;/script&gt;
</code></pre>
<h2>v-on</h2>
<p>在前端开发中，交互是非常重要的一部分，例如处理单击、拖拽、键盘事件灯，都可以通过 v-on 指令可以实现对这些事件的监听。</p>
<p>指令修饰符如下：</p>
<ul>
<li><p><code>.stop</code>: 调用 <code>event.stopPropagation()</code></p>
</li>
<li><p><code>.prevent</code>: 调用 <code>event.preventDefault()</code></p>
</li>
<li><p><code>.capture</code>: 添加事件监听器时使用 capture 模式</p>
</li>
<li><p><code>.self</code>: 只有事件从监听器绑定的元素本身触发时才触发回调</p>
</li>
<li><p><code>.{keyAlias}</code>: 仅当事件从特定键触发时才触发回调</p>
</li>
<li><p><code>.once</code>: 只触发一次回调</p>
<ul>
<li><code>.left</code>: 只有在单击鼠标左键时才触发回调</li>
<li><code>.right</code>: 只有在单击鼠标右键时才触发回调</li>
<li><code>.middle</code>: 只有在单击鼠标中键时才触发回调</li>
</ul>
</li>
<li><p><code>.passive</code>: 使用 <code>{ passive: true }</code> 模式添加监听器</p>
</li>
</ul>
<h3>绑定事件</h3>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;!-- 监听单击 --&gt;
  &lt;button v-on:click=&quot;btnClick&quot;&gt;&lt;/button&gt;
  &lt;!-- 监听鼠标移动 --&gt;
  &lt;div class=&quot;area&quot; v-on:mousemove=&quot;mouseMove&quot;&gt;&lt;/div&gt;

  &lt;!-- 语法糖 --&gt;
  &lt;div @click=&quot;btnClick&quot;&gt;&lt;/div&gt;
  &lt;div @click=&quot;counter++&quot;&gt;&lt;/div&gt;

  &lt;!-- 绑定一个对象 --&gt;
  &lt;div class=&quot;area&quot; v-on=&quot;{click: btnClick, mousemove: mouseMove }&quot;&gt;&lt;/div&gt;
  &lt;!-- 简写，可读性不好，不推荐 --&gt;
  &lt;div class=&quot;area&quot; @=&quot;{click: btnClick, mousemove: mouseMove }&quot;&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        counter: 10,
      };
    },
    methods: {
      btnClick() {},
      mouseMove() {},
    },
  };
&lt;/script&gt;
</code></pre>
<h3>事件对象和传递参数</h3>
<p>事件在发生时会产生事件对象，我们可以在事件回调函数中获取事件对象。</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;!-- 自动传入 event 对象，可以在方法中接收 --&gt;
  &lt;button @click=&quot;btn1Click&quot;&gt;&lt;/button&gt;
  &lt;!-- 手动传入事件对象：$event， $event 是固定写法 --&gt;
  &lt;button @click=&quot;btn2Click($event, &#39;coderwhy&#39;, 18)&quot;&gt;&lt;/button&gt;
&lt;/template&gt;

&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        message: &quot;Hello World&quot;,
      };
    },
    methods: {
      btn1Click(event) {
        console.log(event);
      },
      btn2Click(event, name, age) {
        console.log(event, name, age);
      },
    },
  };
&lt;/script&gt;
</code></pre>
<h3>修饰符</h3>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;div
    @click=&quot;divClick&quot;
    :style=&quot;{width: &#39;100px&#39;, height: &#39;65px&#39;, backgroundColor: &#39;#ddd&#39;}&quot;
  &gt;
    div
    &lt;!-- .stop 阻止点击事件冒泡 --&gt;
    &lt;button @click.stop=&quot;btnClick&quot;&gt;button 按钮&lt;/button&gt;
  &lt;/div&gt;
  &lt;input type=&quot;text&quot; @keyup.enter=&quot;enterKeyup&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        message: &quot;Hello World&quot;,
      };
    },
    methods: {
      divClick() {
        console.log(&quot;divClick&quot;);
      },
      btnClick() {
        console.log(&quot;btnClick&quot;);
      },
      enterKeyup(event) {
        console.log(event.target.value);
      },
    },
  };
&lt;/script&gt;
</code></pre>
<h2>条件渲染</h2>
<h3>v-if 和 v-else</h3>
<ol>
<li>v-if 指令的使用</li>
</ol>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;h2 v-if=&quot;isShow&quot;&gt;xxx&lt;/h2&gt;
&lt;/template&gt;
</code></pre>
<ol start="2">
<li>v-if、v-else、v-else-if 一起使用</li>
</ol>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;input type=&quot;text&quot; v-model=&quot;score&quot; /&gt;
  &lt;h2 v-if=&quot;score &gt;= 90&quot;&gt;优秀&lt;/h2&gt;
  &lt;h2 v-else-if=&quot;score &gt;= 60&quot;&gt;良好&lt;/h2&gt;
  &lt;h2 v-else&gt;不及格&lt;/h2&gt;
&lt;/template&gt;
&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        score: 95,
      };
    },
  };
&lt;/script&gt;
</code></pre>
<h3>v-if 和 template 结合使用</h3>
<p>使用 v-if 指令时，必须将其添加到某一个元素上，例如 <code>&lt;div&gt;</code> 元素，但如果希望显示和隐藏多个元素，有两种常见的实现方式。</p>
<p>(1) 用 <code>&lt;div&gt;</code> 元素包裹多个元素，然后使用 v-if 指令控制该 <code>&lt;div&gt;</code> 元素的显示和隐藏，缺点是 <code>&lt;div&gt;</code> 元素也会被渲染。</p>
<p>(2) 用 HTML5 的 <code>&lt;template&gt;</code> 元素包裹多个元素，然后使用 v-if 指令控制该 <code>&lt;template&gt;</code> 元素的显示和隐藏；优点是 <code>&lt;template&gt;</code> 元素不会被渲染拿出来。</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;template v-if=&quot;isShow&quot;&gt; xxx &lt;/template&gt;
  &lt;template v-else&gt;yyy&lt;/template&gt;
&lt;/template&gt;
&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        isShow: true,
      };
    },
  };
&lt;/script&gt;
</code></pre>
<h3>v-show</h3>
<p>v-show 指令也可以用于控制显示和隐藏某一块内容，</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;h4 v-show=&quot;isShow&quot;&gt;xxx&lt;/h4&gt;
&lt;/template&gt;
&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        isShow: true,
      };
    },
  };
&lt;/script&gt;
</code></pre>
<h3>v-show 和 v-if 的区别</h3>
<ul>
<li><p><code>v-show</code> 不支持在 <code>&lt;template&gt;</code> 标签上使用</p>
</li>
<li><p><code>v-show</code> 不可与 <code>v-else</code> 一起使用</p>
</li>
<li><p><code>v-show</code> 控制的元素无论是否需要显示到浏览器上，它的 DOM 都会被渲染，本质上是通过 CSS 的 display 属性来控制显示和隐藏</p>
</li>
<li><p><code>v-if</code> 的条件为 false 时，对应的元素不会被渲染到 DOM 中</p>
</li>
<li><p>如元素需要在显示和隐藏之间频繁切换，则使用 <code>v-show</code></p>
</li>
<li><p>如不需要频繁切换显示和隐藏，则使用 <code>v-if</code></p>
</li>
</ul>
<h2>列表渲染</h2>
<h3>v-for 的基本使用</h3>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;ul&gt;
    &lt;li v-for=&quot;movie in movies&quot;&gt;{{ movie }}&lt;/li&gt;
  &lt;/ul&gt;
  &lt;ul&gt;
    &lt;li v-for=&quot;(movie, index) in movies&quot;&gt;{{ index + 1 }}.{{ movie }}&lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;
&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        movies: [&quot;星际穿越&quot;, &quot;机器人总动员&quot;, &quot;肖生克的救生衣&quot;],
      };
    },
  };
&lt;/script&gt;
</code></pre>
<h3>v-for 支持的类型</h3>
<p><code>v-for</code> 指令不仅仅支持数组的遍历，还支持<strong>对象类型</strong>和<strong>数字类型</strong>的遍历，</p>
<p>(1) 对象类型遍历</p>
<ul>
<li><p>遍历值：<code>v-for=&quot;value in object&quot;</code></p>
</li>
<li><p>遍历键值对：<code>v-for=&quot;(value, key) in object&quot;</code></p>
</li>
<li><p>遍历键值对及索引：<code>v-for=&quot;(value, key, index) in object&quot;</code></p>
</li>
</ul>
<p>(2) 数字类型遍历</p>
<ul>
<li><p>遍历值：<code>v-for=&quot;value in number&quot;</code></p>
</li>
<li><p>遍历值及索引：<code>v-for=&quot;(value, index) in number&quot;</code></p>
</li>
</ul>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;!-- 遍历对象 --&gt;
  &lt;ul&gt;
    &lt;li v-for=&quot;(value, key, index) in info&quot;&gt;
      {{ value }} - {{ key }} - {{ index }}
    &lt;/li&gt;
  &lt;/ul&gt;
  &lt;!-- 遍历数字 --&gt;
  &lt;ul&gt;
    &lt;li v-for=&quot;(num, index) in 3&quot;&gt;{{ num }} - {{ index }}&lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;
&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        info: {
          name: &quot;why&quot;,
          age: 18,
          height: 1.88,
        },
      };
    },
  };
&lt;/script&gt;
</code></pre>
<h3>v-for 和 template 结合使用</h3>
<p><code>v-for</code> 同样可以使用 <code>&lt;template&gt;</code> 元素循环渲染一段包含多个元素的内容</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;ul&gt;
    &lt;template v-for=&quot;(value, key) in info&quot;&gt;
      &lt;li&gt;{{ key }}&lt;/li&gt;
      &lt;li&gt;{{ value }}&lt;/li&gt;
      &lt;!-- 下面实现一条分割线 --&gt;
      &lt;li :style=&quot;{ height: &#39;2px&#39;, backgroundColor: &#39;#ddd&#39; }&quot;&gt;&lt;/li&gt;
    &lt;/template&gt;
  &lt;/ul&gt;
&lt;/template&gt;
&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        info: {
          name: &quot;why&quot;,
          age: 18,
          height: 1.88,
        },
      };
    },
  };
&lt;/script&gt;
</code></pre>
<h3>数组的更新检测</h3>
<p>在 data 中定义的变量属于响应式变量，修改这些变量时会自动触发视图的更新。</p>
<p>对于定义为数组类型的响应式变量，在调用 <code>filter()</code>、<code>concat()</code>、<code>slice()</code> 方法时不会触发视图更新，而调用 <code>push()</code>、<code>pop()</code> 等方法会触发。</p>
<ol>
<li>调用数组的变更方法</li>
</ol>
<p>在 Vue3 中，系统会对被监听的数组的变更方法进行封装，因此，当执行数组变更方法时，系统会自动触发视图的更新。</p>
<p>这些被封装的方法包括：push、pop、shift、unshift、splice、sort、reverse</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;ul&gt;
    &lt;li v-for=&quot;(movie, index) in movies&quot;&gt;{{ index + 1 }}.{{movie}}&lt;/li&gt;
  &lt;/ul&gt;
  &lt;input type=&quot;text&quot; v-model=&quot;newMovie&quot; /&gt;
  &lt;button @click=&quot;addMovie&quot;&gt;添加电影&lt;/button&gt;
&lt;/template&gt;
&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        newMovie: &quot;&quot;,
        movies: [&quot;星际穿越&quot;, &quot;盗梦空间&quot;],
      };
    },
    methods: {
      addMovie() {
        this.movies.push(this.newMovie);
        this.newMovie = &quot;&quot;;
      },
    },
  };
  Vue.createApp(App).mount(&quot;#app&quot;);
&lt;/script&gt;
</code></pre>
<ol start="2">
<li>用新数组替换旧数组</li>
</ol>
<p>除了以上提到的方法，数组常用的还有 <code>filter()</code>、<code>concat()</code>、<code>slice()</code>，调用这些方法时，默认不会触发视图更新。因为它们返回的是一个新数组，只有将这个新数组用于替换原来的数组，才可以触发视图更新。</p>
<pre><code class="language-html">&lt;template id=&quot;my-app&quot;&gt;
  &lt;ul&gt;
    &lt;li v-for=&quot;(movie, index) in movies&quot;&gt;{{movie}}&lt;/li&gt;
  &lt;/ul&gt;
  &lt;button @click=&quot;showTopThreeMovie&quot;&gt;显示前三名电影&lt;/button&gt;
&lt;/template&gt;
&lt;script&gt;
  const App = {
    template: &quot;#my-app&quot;,
    data() {
      return {
        newMovie: &quot;&quot;,
        movies: [&quot;星际穿越&quot;, &quot;盗梦空间&quot;, &quot;教父&quot;, &quot;阿甘正传&quot;, &quot;肖申克的救生&quot;],
      };
    },
    methods: {
      showTopThreeMovie() {
        this.movies = this.movies.filter((movie, index) =&gt; index &lt; 3);
      },
    },
  };
  Vue.createApp(App).mount(&quot;#app&quot;);
&lt;/script&gt;
</code></pre>

        </div>
      </div>
    </div>
    <div class="body_bg"></div>
    <script defer src="../js/prism.min.js"></script>
    <script>
      const switchBtn = document.querySelector(".layout__main_left-switch");
      const left = document.querySelector(".layout__main_left");
      switchBtn.addEventListener("click", () => {
        left.classList.toggle("show");
      });
    </script>
  </body>
</html>
