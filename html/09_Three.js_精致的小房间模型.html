<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>09 Three.js 精致的小房间模型</title>
    <link rel="shortcut icon" href="../code.svg" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/editor/editor.main.css"
    />
    <link rel="stylesheet" href="../css/edit-code.css" />
  </head>
  <body>
    <div class="layout">
      <div class="layout__main">
        <div class="layout__main_left html__left">
          <ul><li data-id="52" data-path="index.html"><svg t="1723728069970" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2156" width="200" height="200"><path d="M89.088 59.392l62.464 803.84c1.024 12.288 9.216 22.528 20.48 25.6L502.784 993.28c6.144 2.048 12.288 2.048 18.432 0l330.752-104.448c11.264-4.096 19.456-14.336 20.48-25.6l62.464-803.84c1.024-17.408-12.288-31.744-29.696-31.744H118.784c-17.408 0-31.744 14.336-29.696 31.744z" fill="#FC490B" p-id="2157"></path><path d="M774.144 309.248h-409.6l12.288 113.664h388.096l-25.6 325.632-227.328 71.68-227.328-71.68-13.312-169.984h118.784v82.944l124.928 33.792 123.904-33.792 10.24-132.096H267.264L241.664 204.8h540.672z" fill="#FFFFFF" p-id="2158"></path></svg>index.html</li><li data-id="53" data-path="script.js"><svg t="1725441988000" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5301" width="200" height="200"><path d="M64 1024h960V576H64z" fill="#F4AF3D" fill-opacity=".7" p-id="5302"></path><path d="M448 64L192 320h256z" fill="#9AA7B0" fill-opacity=".8" p-id="5303"></path><path d="M512 64v320H192v128h640V64z" fill="#9AA7B0" fill-opacity=".8" p-id="5304"></path><path d="M153.28 869.632c14.72 16 28.352 26.368 57.088 26.368 33.664 0 45.632-26.368 45.632-44.928V640h64v229.632C320 916.48 276.928 960 220.8 960c-52.544 0-83.2-15.168-105.6-43.52l38.08-46.848zM446.272 736.128c0-23.616 19.904-32.128 55.808-32.128H576v-64H503.04C433.792 640 384 669.44 384 732.8c0 55.36 26.88 79.36 94.144 93.824 49.28 10.56 65.6 20.032 65.6 40.448 0 20.48-22.912 28.928-65.6 28.928H403.2v64h74.944C608 960 608 896 608 867.072c0-40.448-30.72-72.128-85.824-89.664-55.168-17.536-75.904-17.728-75.904-41.28z" fill="#231F20" fill-opacity=".7" p-id="5305"></path></svg>script.js</li><li data-id="54" data-path="style.css"><svg t="1725442252356" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14832" width="200" height="200"><path d="M512 512zM128.3 64.3l69.8 805.8 313.4 89.5L825.8 870l69.9-805.7H128.3z m580.9 669.3l-197.1 56.2-196.8-56.5L301.9 578h96.4l6.9 79.1 107.1 30.3 0.3 0.5h0.1l106.9-29.7L630.7 530H406.1l-8-99.9h241.1l8.8-101.9H280.2l-8-97.9H753l-43.8 503.3z" fill="#264DE4" p-id="14833"></path></svg>style.css</li></ul>
          <div class="left__border"></div>
        </div>
        <div class="layout__main_right"></div>
        
          <div class="layout__main_nav">
            <a href="/articles/html/09 Three.js 精致的小房间模型/" target="_blank"><svg t="1725527982519" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7800" width="25" height="25"><path d="M614.4 1024H128c-70.656 0-128-57.344-128-128V128C0 57.344 57.344 0 128 0h614.4c70.656 0 128 57.344 128 128v230.4c0 14.336-11.264 25.6-25.6 25.6s-25.6-11.264-25.6-25.6V128c0-42.496-34.304-76.8-76.8-76.8H128c-42.496 0-76.8 34.304-76.8 76.8v768c0 42.496 34.304 76.8 76.8 76.8h486.4c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6z" fill="#ffffff" p-id="7801"></path><path d="M691.2 256H179.2c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h512c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6zM384 443.904H179.2c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h204.8c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6zM281.6 631.296H179.2c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h102.4c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6zM332.8 819.2H179.2c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h153.6c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6zM640 896c-141.312 0-256-114.688-256-256s114.688-256 256-256 256 114.688 256 256-114.688 256-256 256z m0-460.8c-113.152 0-204.8 91.648-204.8 204.8s91.648 204.8 204.8 204.8 204.8-91.648 204.8-204.8-91.648-204.8-204.8-204.8z" fill="#ffffff" p-id="7802"></path><path d="M998.4 1024c-6.656 0-13.312-2.56-17.92-7.68l-189.44-189.44c-10.24-10.24-10.24-26.112 0-36.352s26.112-10.24 36.352 0l189.44 189.44c10.24 10.24 10.24 26.112 0 36.352-5.12 5.12-11.776 7.68-18.432 7.68z" fill="#ffffff" p-id="7803"></path></svg></a>
          </div>
        
      </div>
    </div>
    <pre id="pre" style="display: none">{
  &#34;index.html&#34;: &#34;&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\&#34;en\&#34;&gt;\r\n  &lt;head&gt;\r\n    &lt;meta charset=\&#34;UTF-8\&#34; /&gt;\r\n    &lt;meta name=\&#34;viewport\&#34; content=\&#34;width=device-width, initial-scale=1.0\&#34; /&gt;\r\n    &lt;title&gt;Three.js 精致的小房间模型&lt;/title&gt;\r\n    &lt;link rel=\&#34;stylesheet\&#34; href=\&#34;style.css\&#34; /&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;canvas class=\&#34;webgl\&#34;&gt;&lt;/canvas&gt;\r\n    &lt;div id=\&#34;loader\&#34;&gt;&lt;h1&gt;Loading&lt;/h1&gt;&lt;/div&gt;\r\n    &lt;script src=\&#34;https://cdnjs.cloudflare.com/ajax/libs/three.js/r124/three.min.js\&#34;&gt;&lt;/script&gt;\r\n    &lt;script src=\&#34;https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js\&#34;&gt;&lt;/script&gt;\r\n    &lt;script src=\&#34;https://unpkg.com/three@0.126.0/examples/js/controls/OrbitControls.js\&#34;&gt;&lt;/script&gt;\r\n    &lt;script src=\&#34;script.js\&#34;&gt;&lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n&#34;,
  &#34;script.js&#34;: &#34;const loading = document.querySelector(\&#34;#loader\&#34;);\r\n\r\nconst canvas = document.querySelector(\&#34;.webgl\&#34;);\r\nconst scene = new THREE.Scene();\r\nconst textureLoader = new THREE.TextureLoader();\r\nconst sizes = {\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n};\r\n\r\n// Base camera\r\nconst camera = new THREE.PerspectiveCamera(\r\n  10,\r\n  sizes.width / sizes.height,\r\n  0.1,\r\n  100\r\n);\r\ncamera.position.x = 8;\r\ncamera.position.y = 4;\r\ncamera.position.z = 15;\r\nscene.add(camera);\r\n\r\n//Controls\r\nconst controls = new THREE.OrbitControls(camera, canvas);\r\ncontrols.enableDamping = true;\r\ncontrols.enableZoom = true;\r\ncontrols.enablePan = true;\r\ncontrols.minDistance = 21;\r\ncontrols.maxDistance = 50;\r\ncontrols.minPolarAngle = Math.PI / 5;\r\ncontrols.maxPolarAngle = Math.PI / 2;\r\n\r\n// Renderer\r\nconst renderer = new THREE.WebGLRenderer({\r\n  canvas: canvas,\r\n  antialias: true,\r\n  alpha: true,\r\n});\r\n\r\nrenderer.setSize(sizes.width, sizes.height);\r\nrenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\r\nrenderer.outputEncoding = THREE.sRGBEncoding;\r\n\r\n// Materials\r\nconst bakedTexture = textureLoader.load(\r\n  \&#34;https://rawcdn.githack.com/ricardoolivaalonso/ThreeJS-Room13/47b05e2db4e49eec33d63729e920894a906cb693/static/baked.jpg\&#34;\r\n);\r\nbakedTexture.flipY = false;\r\nbakedTexture.encoding = THREE.sRGBEncoding;\r\n\r\nconst bakedMaterial = new THREE.MeshBasicMaterial({ map: bakedTexture });\r\n\r\n//Loader\r\nconst loader = new THREE.GLTFLoader();\r\nloader.load(\r\n  \&#34;https://rawcdn.githack.com/ricardoolivaalonso/ThreeJS-Room13/47b05e2db4e49eec33d63729e920894a906cb693/static/model.glb\&#34;,\r\n  (gltf) =&gt; {\r\n    const model = gltf.scene;\r\n    model.traverse((child) =&gt; (child.material = bakedMaterial));\r\n    scene.add(model);\r\n    scene.position.set(0, 0.2, 0);\r\n    loading.style.display = \&#34;none\&#34;;\r\n  },\r\n  (xhr) =&gt; {\r\n    console.log((xhr.loaded / xhr.total) * 100 + \&#34;% loaded\&#34;);\r\n  }\r\n);\r\n\r\nwindow.addEventListener(\&#34;resize\&#34;, () =&gt; {\r\n  sizes.width = window.innerWidth;\r\n  sizes.height = window.innerHeight;\r\n  camera.aspect = sizes.width / sizes.height;\r\n  camera.updateProjectionMatrix();\r\n  renderer.setSize(sizes.width, sizes.height);\r\n  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\r\n});\r\n// Animation\r\n\r\nvar minPan = new THREE.Vector3(-2, -0.5, -2);\r\nvar maxPan = new THREE.Vector3(2, 0.5, 2);\r\n\r\nconst tick = () =&gt; {\r\n  controls.update();\r\n  controls.target.clamp(minPan, maxPan);\r\n  renderer.render(scene, camera);\r\n  window.requestAnimationFrame(tick);\r\n};\r\n\r\ntick();\r\n&#34;,
  &#34;style.css&#34;: &#34;*,\r\n*::after,\r\n*::before {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  outline: none;\r\n  font-family: monospace;\r\n}\r\n\r\nbody {\r\n  overflow: hidden;\r\n  background-color: #d2cfc8;\r\n  cursor: grab;\r\n}\r\n\r\n.webgl,\r\n#loader {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n#loader {\r\n  display: grid;\r\n  place-content: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #faedcd;\r\n}\r\n&#34;
}</pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/loader.js"></script>
    <script src="../js/edit.js"></script>
  </body>
</html>
