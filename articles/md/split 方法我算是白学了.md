---
title: "split 方法我算是白学了"
tag: "JavaScript"
time: 2024-10-30 21:37:49
---

## 字符参数

split 方法是用来做字符串分割的，使用这个方法最常用的形式也是使用指定字符来对原字符串进行分割。比如下面的代码

```js
"as:st:vii".split(":");
// ['as', 'st', 'vii']
```

## 正则参数

有时候用来的分割并不是特定的字符，而是一类字符，比如数字分割

```js
"as2st3vii".split(/\d/);
// ['as', 'st', 'vii']
```

正则`\d` 表示所有数字，只要是数字就认为是一个分割符，这就非常灵活了。

## 问题一

来看下面的代码，

```js
`asabstcdvii`.split(/(ab|cd)/);
// ['as', 'ab', 'st', 'cd', 'vii']
```

这才是正确结果，把分割符 ab，cd 也一并返回了

简单解释一下，在正则表达中如果出现了捕获组, 那么这些捕获组的内容也会在结果中返回

如果我们把正则瞎改改，改的复杂一点。

```js
`asabstcdvii`.split(/(a|c)(b|d)/);
// ['as', 'a', 'b', 'st', 'c', 'd', 'vii']
```

可以看出来，正则表达式中所有的捕获组都会在结果数组中返回。

那这种功能有什么用呢。我也没有实现应用场景，毕竟以前根本不知道这个功能。下面这是硬想出来的功能代码

```js
function addYear(date) {
  const arr = date.split(/(-|\/)/);
  arr[0] = Number(arr[0]) + 1;
  return arr.join("");
}
```

如果日期字符串分割符可能是 `-` 也可能是 `/` 如果不使用捕获组在字符串分割之后，就无法方便的辨别原字符串中的分割符是什么了

## 问题二

这个 split 方法还支持第二个参数 limit，限制结果数组的长度。

```js
`asabstcdvii`.split(/(a|c)(b|d)/, 2);
// ['as', 'a']
```

看出来就是取没 limit 参数的结果数组的前几项。听起来比较拗口。自己理解一下吧，我讲不清楚
