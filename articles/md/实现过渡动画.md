---
title: "实现过渡动画"
tag: "Vue"
time: 2025-01-17 11:08:13
---

## 基本过渡动画

### 认识过渡动画

在开发中，为了增强用户体验，我们通常会为组件的显示和隐藏添加一些过渡动画，下面介绍 Vue3 和 React 是如何实现过渡动画的。

(1) React 框架本身没有提供动画相关的 API，因此在使用过渡动画的时候需要引入第三方库，比如 react-transition-group。

(2) Vue3 框架本身提供了动画相关的 API，因此在使用过渡动画的时候不需要引入第三方库。

- App.vue 组件，通过 v-if 控制显示和隐藏 `<h4>` 元素

```html
<template>
  <div>
    <button @click="show = !show">显示/隐藏</button>
    <h4 v-if="show" style="border: 1px solid #ddd; width: 100px">你好，Vue3</h4>
  </div>
</template>
<script>
  export default {
    data() {
      return {
        show: true,
      };
    },
  };
</script>
```

上面代码是没有过渡效果的，为了实现单个元素或组件的过渡动画效果，在 Vue3 中，可以使用内置组件 `<transition>`。

改组件是对 CSS 中 transition 属性的封装，在**条件渲染（v-if）、条件展示（v-show）、动态组件，以及组件根节点**等情况下，都可以为任何元素和组件添加进入/离开过渡效果。

```html
<template>
  <div>
    <button @click="show = !show">显示/隐藏</button>
    <transition name="why">
      <h4 v-if="show" style="border: 1px solid #ddd; width: 100px">
        你好，Vue3
      </h4>
    </transition>
  </div>
</template>
<script>
  export default {
    data() {
      return {
        show: true,
      };
    },
  };
</script>
<style scoped>
  /* h4 元素进入之前和离开之后应用的样式 */
  .why-enter-from,
  .why-leave-to {
    opacity: 0;
  }
  /* h4 元素开始进入和离开时应用的样式 */
  .why-enter-to,
  .why-leave-from {
    opacity: 1;
  }
  /* 定义过渡动画的持续时间 */
  .why-enter-active,
  .why-leave-active {
    transition: opacity 2s ease;
  }
</style>
```
[203]