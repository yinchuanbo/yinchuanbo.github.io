---
title: "如何优雅地使用 git commit 命令"
tag: "Git"
---

## 01 git commit 的基础

在 Git 中，"提交"是一个指代对文件更改进行记录的操作。每次提交都为当前项目的状态创建一个新的快照。提交的主要目的是让开发者可以在需要时查看、恢复或比较项目的历史版本。

Git 将每次提交视为项目在某一时刻的完整快照，而不是差异。每次提交保存的是当前项目的所有文件的状态，当你查看历史提交时，你可以看到当时的文件内容。快照使 Git 能够高效地管理各个版本的文件。

版本控制是管理文件变更的一种系统。在软件开发中，版本控制允许团队协作，追踪和记录每一次的更改。使用 Git 进行版本控制，可以实现以下目标：

- 协作：多位开发者可以同时对代码进行更改，并通过合并提交来整合这些更改。
- 历史记录：可以随时查看项目的变更历史，了解每次提交的内容、时间和作者。
- 恢复：在出现问题时，可以快速恢复到先前的某个版本。
- 分支管理：Git 允许创建分支并在不同的分支上进行开发，后续再将更改合并回主干。

通过这些特性，Git commit 成为代码管理和版本控制中不可或缺的一部分。每次提交都带有唯一的标识符（SHA-1 哈希值），可以确保每个快照的唯一性和可追踪性。

### 1.1 git commit 命令详解

```sh
git commit file1.name file2.name file3.name .. –m "commit messages"
```

`commit`指提交修改到本地的仓库里，`file*.name`指的是带`commit`的文件`–m`后面的内容指提交的信息，即备注。

```sh
git commit –a –m "commit messeages"
```

添加的`-a`参数会把当前暂存区里所有的修改（包括删除操作）都提交，但是那些尚未添加到暂存区的内容是不会提交的，网上有很多人说`-a`参数会把尚未`add`的文件也提交了，这个说法是错误的。

```sh
git commit
```

可能有时候手抖忘记输入`-m`参数，直接输入了`git commit`，于是出现了下面这个界面，即打开了一个`vim`编辑界面，敲入`i`键后保存，输入要添加的`message`后，输入“`ESC`”按键退出编辑界面，然后再敲入“`:wqa`”后会保存`message`内容，并且提交此次修改，如果敲入“`:q`”会取消这次提交。

<img src="../imgs/95/01.webp" />